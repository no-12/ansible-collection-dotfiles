---
- name: Ensure packages are present
  become: "{{ true if ansible_pkg_mgr != 'homebrew' else false }}"
  package:
    name:
      - ack
      - atool
      - bat
      - curl
      - fzf
      - git
      - htop
      - ranger
      - tree
      - vim
      - zsh
    state: present
  tags: install_packages

- name: Ensure common dotfiles are present
  copy:
    src: "{{ item }}"
    dest: "{{ ansible_env.HOME }}/{{ item }}"
    mode: 0644
  with_items:
    - .ackrc
    - .fzfrc

- name: Ensure zsh dotfiles are present
  include_tasks: zsh.yml

- name: Ensure git dotfiles are present
  include_tasks: git.yml

- name: Ensure ranger dotfiles are present
  include_tasks: ranger.yml
